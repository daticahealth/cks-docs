### Persistent Storage

#### Volumes
There are many ways to configure [persistent storage](https://kubernetes.io/docs/concepts/storage/persistent-volumes) in kubernetes. Any resource that creates a Pod can have a PersistentVolumeClaim to attach a PersistentVolume to the pod. By referencing a storageClass in the PVC, a PersistentVolume can be dynamically provisioned according to the PVC's request. All pods provisioned by Datica that require a volume use the `persistent-storage` StorageClass, which is configured to create encrypted SSD EBS volumes, allow volume expansion, and retain the PersistentVolume if the attached PersistentVolumeClaim is deleted. This enables a pod to reattach to the same PersistentVolume when it is rescheduled. For your own pods, you may use the existing StorageClass created by Datica, or use it as a template to create your won that better suits the needs of your application.

#### Encrpytion
Any volumes provisioned using the `persistent-storage` StorageClass will be encrypted by default. To ensure that your own PersistentVolumes are encrypted, reference this StorageClass in the PersistentVolumeClaim, or create your own StorageClass with the parameter `encrypted: "true"`. Data in a container's ephemeral storage lives on the host filesystem, and does not persist between pod redeploys. However, since all host level volumes are encrypted using Amazon KMS keys, anything written to your container's filesystem is encrypted at rest.